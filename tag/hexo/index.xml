<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Hexo | YangLeiSX</title>
    <link>https://yangleisx.github.io/tag/hexo/</link>
      <atom:link href="https://yangleisx.github.io/tag/hexo/index.xml" rel="self" type="application/rss+xml" />
    <description>Hexo</description>
    <generator>Hugo Blox Builder (https://hugoblox.com)</generator><language>en-us</language><lastBuildDate>Fri, 17 Jul 2020 11:01:41 +0800</lastBuildDate>
    <image>
      <url>https://yangleisx.github.io/media/icon_hu9d67daea6e408fd17d2331b8d809e90a_61652_512x512_fill_lanczos_center_3.png</url>
      <title>Hexo</title>
      <link>https://yangleisx.github.io/tag/hexo/</link>
    </image>
    
    <item>
      <title>网络安全概论</title>
      <link>https://yangleisx.github.io/post/intro-cyber-sec/</link>
      <pubDate>Fri, 17 Jul 2020 11:01:41 +0800</pubDate>
      <guid>https://yangleisx.github.io/post/intro-cyber-sec/</guid>
      <description>&lt;p&gt;三小时女娲补天网安概论&lt;/p&gt;
&lt;h2 id=&#34;0x01网络信息安全发展历史&#34;&gt;0x01网络信息安全发展历史&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;网络信息安全历史：
&lt;ol&gt;
&lt;li&gt;通信保密阶段：COMSEC，20世纪20-60年代，主要解决发方和收方的信息源编码（Source Coding）、信道编码和传输（Channel Coding）、通信协议和密码的问题。&lt;/li&gt;
&lt;li&gt;信息安全阶段：INFOSEC，20世纪80-90年代，主要目标为保密性Confidential、完整性Integrity、可用性Availability。包括TCSEC橙皮书和ITSEC白皮书。&lt;/li&gt;
&lt;li&gt;信息保障阶段：IA，20世纪90年代至今，主要为为从整体角度考虑其体系建设的信息保障(Information Assurance)阶段，代表是美国的IATF规范。&lt;/li&gt;
&lt;li&gt;网络空间安全：2010年后&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;信息安全的基本特征：
&lt;ol&gt;
&lt;li&gt;相对性&lt;/li&gt;
&lt;li&gt;时效性&lt;/li&gt;
&lt;li&gt;安全攻击源和防范对象的不确定性&lt;/li&gt;
&lt;li&gt;反传统的技术思维和复杂的人-机关系&lt;/li&gt;
&lt;li&gt;相关性&lt;/li&gt;
&lt;li&gt;信息结构的高度脆弱性和风险性&lt;/li&gt;
&lt;li&gt;动态性&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;0x02计算机网络&#34;&gt;0x02计算机网络&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;OSI七层模型&lt;/p&gt;
&lt;p&gt;应用层Application Layer，表示层Presentation Layer，会话层Session Layer，传输层Transport Layer，网络层Network Layer，数据链路层DataLink Layer，物理层Physical Layer&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;TCP/IP协议栈&lt;/p&gt;
&lt;p&gt;应用层，传输层，网络层，网络接口层&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;五层参考模型&lt;/p&gt;
&lt;p&gt;应用层，传输层，网络层，数据链路层，物理层&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;相关概念&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;MAC地址&lt;/li&gt;
&lt;li&gt;IP地址、端口号、套接字Socket&lt;/li&gt;
&lt;li&gt;TCP vs. UDP&lt;/li&gt;
&lt;li&gt;域名解析&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;网络工具&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ping使用ICMP检查目标IP是否可达&lt;/li&gt;
&lt;li&gt;ipconfig/ifconfig查看网络配置信息&lt;/li&gt;
&lt;li&gt;netstat查看网络连接状态&lt;/li&gt;
&lt;li&gt;arp查看ARP缓存信息&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;0x03安全基础&#34;&gt;0x03安全基础&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;信息安全的定义：信息安全是防止对知识、事实、数据或能力的非授权使用、误用、篡改或拒绝使用所采取的措施。&lt;/li&gt;
&lt;li&gt;完整的定义：指在既定的安全密级条件下，信 息系统通过预警、保护、检测、响应、恢复和反击机制，抵 御意外事件或恶意行为攻击，确保信息系统避免非授权的访 问、破坏或者服务中断，实现信息和资源的保密性、完整性、 可用性、非否认性和可控性的能力。&lt;/li&gt;
&lt;li&gt;三要素：
&lt;ol&gt;
&lt;li&gt;机密性Confidential：不被截获和未授权使用&lt;/li&gt;
&lt;li&gt;完整性Integrity：内容真实可信、不被冒充伪造和篡改&lt;/li&gt;
&lt;li&gt;可用性Availability：信息和信息服务被授权人正常使用&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;其他属性：
&lt;ol&gt;
&lt;li&gt;不可否认性No-Repudiation：行为的不可否认&lt;/li&gt;
&lt;li&gt;可控性Controllability：验证Authentication和审计Accountability&lt;/li&gt;
&lt;li&gt;可存活性Survivability：在攻击和错误情况下继续提供服务&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;安全攻击
&lt;ol&gt;
&lt;li&gt;中断Interruption：破坏了可用性&lt;/li&gt;
&lt;li&gt;修改Modification：破坏了完整性&lt;/li&gt;
&lt;li&gt;伪造Fabrication：破坏了真实性&lt;/li&gt;
&lt;li&gt;截取Interception：破坏机密性&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;安全服务
&lt;ol&gt;
&lt;li&gt;认证Authentication：提供实体的身份保证&lt;/li&gt;
&lt;li&gt;访问控制Access Control：授权资源访问&lt;/li&gt;
&lt;li&gt;机密性服务Confidential：信息不泄露和暴露&lt;/li&gt;
&lt;li&gt;完整性服务Integrity：数据的价值和存在性没有改变&lt;/li&gt;
&lt;li&gt;不可抵赖服务&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;安全机制：安全服务的实现
&lt;ol&gt;
&lt;li&gt;加密机制&lt;/li&gt;
&lt;li&gt;数字签名&lt;/li&gt;
&lt;li&gt;访问控制&lt;/li&gt;
&lt;li&gt;数据完整性&lt;/li&gt;
&lt;li&gt;通信业务流填充&lt;/li&gt;
&lt;li&gt;路由控制&lt;/li&gt;
&lt;li&gt;认证交换&lt;/li&gt;
&lt;li&gt;公证机制&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;0x04威胁和攻击技术&#34;&gt;0x04威胁和攻击技术&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;安全问题的根源：
&lt;ol&gt;
&lt;li&gt;物理安全因素：设备本身的问题、环境的安全&lt;/li&gt;
&lt;li&gt;方案设计因素：安全策略不合理、安全配置不当、设计需要牺牲安全机制&lt;/li&gt;
&lt;li&gt;系统安全因素：操作系统和网络软件等的漏洞和后门&lt;/li&gt;
&lt;li&gt;TCP/IP协议的安全因素：设计之初没有考虑安全问题&lt;/li&gt;
&lt;li&gt;人的因素：无意的失误和错误、恶意攻击&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;攻击技术：
&lt;ol&gt;
&lt;li&gt;被动攻击：窃听和监视数据传输，不对数据进行修改，难以检测，重在预防
&lt;ol&gt;
&lt;li&gt;嗅探sniff&lt;/li&gt;
&lt;li&gt;分析&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;主动攻击：数据流的篡改和错误数据的添加，能够检测，难以防止
&lt;ol&gt;
&lt;li&gt;假冒fabrication&lt;/li&gt;
&lt;li&gt;重放replay&lt;/li&gt;
&lt;li&gt;篡改modification&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;攻击过程
&lt;ol&gt;
&lt;li&gt;预攻击pre-attack：搜集信息，域名、IP、拓扑、OS、端口、服务&lt;/li&gt;
&lt;li&gt;攻击attack：远程权限、接入、本地权限、提权、攻击&lt;/li&gt;
&lt;li&gt;后攻击post-attack：植入木马、删除日志、进一步渗透&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;攻击手段：
&lt;ol&gt;
&lt;li&gt;网络监听sniff：监听网络状态和数据流&lt;/li&gt;
&lt;li&gt;密码破解crack：字典攻击、暴力破解&lt;/li&gt;
&lt;li&gt;会话劫持session hijack：”中间人攻击“&lt;/li&gt;
&lt;li&gt;缓冲区溢出buffer overflow：输入数据规模超过了给定缓冲区的大小&lt;/li&gt;
&lt;li&gt;拒绝服务攻击DoS：消耗目标资源使其无法为正常用户提供服务&lt;/li&gt;
&lt;li&gt;病毒和蠕虫worm：自我复制和传播，利用漏洞传播&lt;/li&gt;
&lt;li&gt;木马trojan：隐蔽运行，远程控制和信息窃取&lt;/li&gt;
&lt;li&gt;SQL注入SQL insert：访问数据库的动态网页&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;APT攻击：
&lt;ol&gt;
&lt;li&gt;高级可持续性攻击：Advanced Persistent Threat&lt;/li&gt;
&lt;li&gt;攻击路径：网络欺诈和0day攻击——找到漏洞——感染内部人员——获取数据&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;0x05网络信息安全模型&#34;&gt;0x05网络信息安全模型&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;网络通信模型：
&lt;ol&gt;
&lt;li&gt;包括：消息的安全转换、通信主体共享的秘密信息（密钥）、可信第三方trusted third party。&lt;/li&gt;
&lt;li&gt;消息经过安全转换后经由信道传输。其中的安全转换通过该秘密信息指导。&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;访问安全模型：
&lt;ol&gt;
&lt;li&gt;外部安全：阻止非授权用户&lt;/li&gt;
&lt;li&gt;内部安全：内部安全控制&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;P2DR模型：
&lt;ol&gt;
&lt;li&gt;安全策略Policy、防护Protection、检测Detection、响应Response&lt;/li&gt;
&lt;li&gt;基于时间的安全理论，通过每一个行为消耗的时间衡量安全能力&lt;/li&gt;
&lt;li&gt;暴露时间E = 检测时间 + 响应时间 - 攻击时间。攻击时间越短、响应时间越长，则暴露时间越长，系统越危险。当暴露时间小于0，可以认为系统是安全的。&lt;/li&gt;
&lt;li&gt;系统安全 = 风险分析 + 安全策略 + 系统防护 + 实时监测 + 实时响应 + 灾难恢复，其中外围五个因素都收到了系统安全策略的影响。&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;信息技术安全评估准则：
&lt;ol&gt;
&lt;li&gt;TCSEC桔皮书：A、B3、B2、B1、C2、C1、D&lt;/li&gt;
&lt;li&gt;INSEC桔皮书的进一步发展&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;0x06密码学技术&#34;&gt;0x06密码学技术&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;密码学发展：手工阶段、机器阶段、现代密码学&lt;/li&gt;
&lt;li&gt;基本概念：
&lt;ol&gt;
&lt;li&gt;Cryptology、Cryptography、Cryptanalysis&lt;/li&gt;
&lt;li&gt;加密Encryption、解密Decryption&lt;/li&gt;
&lt;li&gt;无条件安全Unconditionally Security、计算安全Computationally Security&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;编码原则：加密算法建立在算法的公开不影响铭文和密钥的安全&lt;/li&gt;
&lt;li&gt;古典密码：古典替换（substitution，替换明文）、古典置换（permutation/transportation，改变明文字符的位置）&lt;/li&gt;
&lt;li&gt;密码分析方式：
&lt;ol&gt;
&lt;li&gt;唯密文攻击：只有密文串和加密算法，利用统计方式分析&lt;/li&gt;
&lt;li&gt;已知明文攻击：具有明文密文和加密算法，推导密钥&lt;/li&gt;
&lt;li&gt;自适应选择明文攻击：攻击者选择明文并得到对应的密文&lt;/li&gt;
&lt;li&gt;选择密文攻击：攻击者选择密文兵构造对应的明文&lt;/li&gt;
&lt;li&gt;选择文本攻击&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;典型攻击方式：
&lt;ol&gt;
&lt;li&gt;暴力攻击Brute Force：穷举法、字典攻击&lt;/li&gt;
&lt;li&gt;数学方式：差分攻击（明文插值对密文插值的影响）、线性密码、插值攻击&lt;/li&gt;
&lt;li&gt;密钥相关攻击&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;对称密钥体系：
&lt;ol&gt;
&lt;li&gt;分组密码：明文和密文分组，相同密钥和明文能得到相同密文&lt;/li&gt;
&lt;li&gt;序列密码：流密码，按bit加密&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;分组密码原理：
&lt;ol&gt;
&lt;li&gt;明文消息编码得到的序列分组，在密钥控制下变换成等长的输出序列&lt;/li&gt;
&lt;li&gt;混乱原则：Confusion，即使用替换法Substitution，S-box。防止利用明文和密文的依赖关系破解。&lt;/li&gt;
&lt;li&gt;扩散原则：Diffusion，即使用置换法Permutation，P-box。密钥的每位数字影响密文的多个数字，明文的每位数字影像密文的多个数字。&lt;/li&gt;
&lt;li&gt;Feistel加密结构：多轮迭代、使用动态子密钥&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;数据加密标准DES：
&lt;ol&gt;
&lt;li&gt;56bit的密钥加密64bit的明文分组&lt;/li&gt;
&lt;li&gt;16轮迭代&lt;/li&gt;
&lt;li&gt;double-DES、triple-DES&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;高级加密标准AES：
&lt;ol&gt;
&lt;li&gt;明文分组为16字节128bit&lt;/li&gt;
&lt;li&gt;10轮迭代，但是不是Feistel结构&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;随机数：
&lt;ol&gt;
&lt;li&gt;特性：不可预料性、统计独立性&lt;/li&gt;
&lt;li&gt;生成方法：自然随机数源，随机数生成函数，通常只能生成伪随机数序列&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;流密码：
&lt;ol&gt;
&lt;li&gt;原理：一次一密的密码体制绝对安全。&lt;/li&gt;
&lt;li&gt;使用种子密钥生成密钥序列，利用密钥序列一次加密明文的一个或几个比特&lt;/li&gt;
&lt;li&gt;硬件实现简单&lt;/li&gt;
&lt;li&gt;公开算法包括RC4算法&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;分组密码模式：
&lt;ol&gt;
&lt;li&gt;ECB电子密码本：每一个分组使用相同的密钥&lt;/li&gt;
&lt;li&gt;CBC分组链接：当前明文段与上一密文段异或处理后进行加密&lt;/li&gt;
&lt;li&gt;CFB密码反馈：将分组密码转为流密码&lt;/li&gt;
&lt;li&gt;CTR计数器：计数器加密后与明文异或后进行加密&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;0x07公钥密码技术&#34;&gt;0x07公钥密码技术&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;消息认证：
&lt;ol&gt;
&lt;li&gt;验证发送者的身份（真实性），验证信息完整性&lt;/li&gt;
&lt;li&gt;常规方式：共享密钥、序列号、时间戳、错误检测码&lt;/li&gt;
&lt;li&gt;非加密方式：报文鉴别码、单向散列函数&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;消息认证码MAC：
&lt;ol&gt;
&lt;li&gt;使用密钥，从消息中生成数据，成为MAC或密码校验和（cryptographic checksum）&lt;/li&gt;
&lt;li&gt;通信双方使用相同的密钥计算MAC并验证，保证了完整性和真实性&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;信息摘要/哈希/散列函数：
&lt;ol&gt;
&lt;li&gt;变长输入压缩到定长的输出，输入改变后输出变化很大。&lt;/li&gt;
&lt;li&gt;MAC计算速度慢，需要密钥，但是计算信息摘要不需要密钥，只能验证完整性&lt;/li&gt;
&lt;li&gt;特点：单向性、抗碰撞性&lt;/li&gt;
&lt;li&gt;安全问题：密码分析法（分析算法缺陷）、穷举攻击&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;典型散列算法：
&lt;ol&gt;
&lt;li&gt;MD5：明文补全为512bit的组，生成128bit的摘要，已经被证明了不安全可以破解。&lt;/li&gt;
&lt;li&gt;SHA：明文补全为512bit的组，生成160bit的摘要，记录在5个32bit的数据中。&lt;/li&gt;
&lt;li&gt;HMAC：使用散列函数实现的MAC，使用密钥参与哈希过程&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;公钥密码思想：
&lt;ol&gt;
&lt;li&gt;公钥公开，私钥保密，私钥可导出公钥，公钥难以计算私钥。&lt;/li&gt;
&lt;li&gt;公私钥的生成利用了单向陷门函数，即容易计算但难以求逆，给定陷门后易于求逆。&lt;/li&gt;
&lt;li&gt;常用数学难题：大整数因子分解，有限域上乘法群的离散对数问题，椭圆曲线离散对数问题。&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;RSA机制：
&lt;ol&gt;
&lt;li&gt;利用大整数因子分解难题&lt;/li&gt;
&lt;li&gt;给定素数p、q，公开其乘积n，选择e与$\varphi(n)$互素，计算$d=e^{-1}mod\ \varphi(n)$。&lt;/li&gt;
&lt;li&gt;给定私钥p和q和d，计算公钥e和n比较简单，但是逆运算非常难。&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;Diffie-Hellman密钥交换：
&lt;ol&gt;
&lt;li&gt;用户事先共享a和p&lt;/li&gt;
&lt;li&gt;用户选择随机数$X_A$和$X_B$&lt;/li&gt;
&lt;li&gt;计算$Y_A = a^{X_A}mod\ p$和$Y_B = a^{X_B} mod\ p$并交换&lt;/li&gt;
&lt;li&gt;计算$K = Y_B^{X_A} mod\ p= Y_A^{X_A}mod\ p$。&lt;/li&gt;
&lt;li&gt;容易被中间人攻击&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;椭圆曲线机制ECC，相比RSA在较短的密钥提供了更高的安全性。&lt;/li&gt;
&lt;li&gt;对称和非对称加密
&lt;ol&gt;
&lt;li&gt;对称加密：速度快，密钥短但是管理困难&lt;/li&gt;
&lt;li&gt;非对称加密：密钥管理简单，可以数字签名，速度慢&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;数字签名技术：
&lt;ol&gt;
&lt;li&gt;同时保护信息完整性和信息发送者的身份确认&lt;/li&gt;
&lt;li&gt;原理：数字信息经过散列函数计算摘要，使用私钥加密信息摘要并作为信息的一部分。使用公钥解密得到摘要并检查信息的完整性。&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;0x08密钥分发和用户认证&#34;&gt;0x08密钥分发和用户认证&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;密码管理处理密码产生到销毁过程中的各个问题，包括初始化、产生、存储、分配、停用、更新、销毁。&lt;/li&gt;
&lt;li&gt;密钥生产形式：密钥管理中心集中生产（有边界生产），个人生成（无边界生产）&lt;/li&gt;
&lt;li&gt;密钥分配：自动分配机制减轻负担，同时尽量减小密钥量&lt;/li&gt;
&lt;li&gt;对称密码体制：
&lt;ol&gt;
&lt;li&gt;一方选择密钥，通过安全方式传递给另一方&lt;/li&gt;
&lt;li&gt;可信第三方选定，安全方式传递给双方&lt;/li&gt;
&lt;li&gt;使用旧密钥加密新密钥传输&lt;/li&gt;
&lt;li&gt;可信第三方的加密分发：设立KDC(Key Distribution Center)使用永久密钥加密传输会话密钥，会话密钥用于加密会话内容，一次一密。&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;分布式环境认证：
&lt;ol&gt;
&lt;li&gt;一组工作站和一组分布式服务器组成&lt;/li&gt;
&lt;li&gt;工作站可以保证用户认证，客户端向服务器验证，客户端和服务器的双向验证&lt;/li&gt;
&lt;li&gt;Kerberos：提供两个密钥TGT和ST，用户向DC验证身份得到TGT，访问服务时通过TGT得到ST，使用ST与服务器加密传输并验证身份。&lt;/li&gt;
&lt;li&gt;kerberos保存有用户的ID和密钥散列，同时与每一个应用服务器共享一个保密密钥。&lt;/li&gt;
&lt;li&gt;一个kerberos环境包括kerberos服务器、应用服务器和工作站。实际上存在跨环境的访问，此时需要不同环境的Kerberos服务器之间共享一个密钥实现相互注册。&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;公钥证书：
&lt;ol&gt;
&lt;li&gt;证书管理机构CA（Certificate Authority），证书Certificate&lt;/li&gt;
&lt;li&gt;证书包括用户的相关信息，用户的公钥，时间戳等&lt;/li&gt;
&lt;li&gt;CA使用公开公钥，使用自己的私钥为证书签名&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;对称+非对称的密钥分配：
&lt;ol&gt;
&lt;li&gt;使用对称密钥加密信息，使用非对称加密方式分发加密密钥&lt;/li&gt;
&lt;li&gt;分配步骤：使用对方公钥加密交互信息（验证对方身份）+使用自己私钥和对方公钥加密信息密钥+使用信息密钥加密传输&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;X.509标准：
&lt;ol&gt;
&lt;li&gt;CA为用户颁发证书，证书包括用户公钥，使用CA公钥签名&lt;/li&gt;
&lt;li&gt;CA保证了用户信息的正确性，证书内容无法伪造或篡改&lt;/li&gt;
&lt;li&gt;根CA向下级CA签名，构建树状结构、证书链&lt;/li&gt;
&lt;li&gt;根证书可以是自签名的&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;PKI公钥基础设施：
&lt;ol&gt;
&lt;li&gt;PKI是生成、管理、存储、分发和吊销基于公钥密码学的公钥证书所需要的硬件、软件、人员、策略和规程的总和&lt;/li&gt;
&lt;li&gt;包括证书库、CA、RA、证书注销列表、密钥备份恢复、应用接口&lt;/li&gt;
&lt;li&gt;用户的证书请求经由RA发送到CA&lt;/li&gt;
&lt;li&gt;不同的CA之间可以交叉认证，交换密钥信息，验证对方的可信任性&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;信息隐藏：利用载体中随机性的荣誉部分隐藏秘密信息。&lt;/li&gt;
&lt;li&gt;数字水印&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;0x09网络访问控制和云安全&#34;&gt;0x09网络访问控制和云安全&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;访问控制：允许或限制访问能力和范围。包括阻止对资源的未授权访问和拒绝向非授权主体提供服务&lt;/li&gt;
&lt;li&gt;访问控制实体：
&lt;ol&gt;
&lt;li&gt;客体：被保护的资源对象&lt;/li&gt;
&lt;li&gt;主体：访问行为发起者&lt;/li&gt;
&lt;li&gt;授权：安全访问策略，规定主体对客体执行的动作&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;访问控制策略
&lt;ol&gt;
&lt;li&gt;最小特权策略，&lt;/li&gt;
&lt;li&gt;最小泄露策略&lt;/li&gt;
&lt;li&gt;多级安全策略&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;EAP协议（Extensible Authentication Protocol）：运行在链路层的安全认证协议&lt;/li&gt;
&lt;li&gt;IEEE 802.1X协议：基于端口的认证策略&lt;/li&gt;
&lt;li&gt;云计算：并行计算、分布式计算、网格计算的融合和发展
&lt;ol&gt;
&lt;li&gt;一种弹性计算资源，通过网络获取的共享资源&lt;/li&gt;
&lt;li&gt;网络获取、可伸缩性、资源共享&lt;/li&gt;
&lt;li&gt;服务模式：SaaS软件即服务、PaaS平台即服务、IaaS基础设施即服务&lt;/li&gt;
&lt;li&gt;部署模型：公有云、私有云、社区云、混合云&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;云计算安全风险：滥用和恶意使用、不安全的API、数据泄露、账户或服务劫持&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;0x0a-web安全和传输层安全&#34;&gt;0x0A WEB安全和传输层安全&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;架构：Browser/Server结构，应用层使用HTTP协议&lt;/li&gt;
&lt;li&gt;Web内容
&lt;ol&gt;
&lt;li&gt;静态内容：固定网页的访问&lt;/li&gt;
&lt;li&gt;动态内容：利用数据库维护，动态生成网页内容&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;Web不安全的根源：
&lt;ol&gt;
&lt;li&gt;Internet的开放性，任何人都可以建立web站点&lt;/li&gt;
&lt;li&gt;DNS域名可以自由注册，按时间顺序&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;浏览器安全问题
&lt;ol&gt;
&lt;li&gt;辅助应用程序：web数据是浏览器无法解析的类型时，会自动调用辅助应用程序&lt;/li&gt;
&lt;li&gt;插件：浏览特定信息的软件模块，可以发送有害数据攻击&lt;/li&gt;
&lt;li&gt;Cookie：存储传递的状态信息，可能会泄露用户的信息&lt;/li&gt;
&lt;li&gt;脚本：运行在服务器/浏览器上的程序，可以嵌入恶意代码&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;服务器安全问题：
&lt;ol&gt;
&lt;li&gt;口令被破解&lt;/li&gt;
&lt;li&gt;文件被未授权访问&lt;/li&gt;
&lt;li&gt;DoS攻击&lt;/li&gt;
&lt;li&gt;命令注入攻击&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;web安全：
&lt;ol&gt;
&lt;li&gt;浏览器安全：限制权限、限制数据类型&lt;/li&gt;
&lt;li&gt;服务器安全：访问控制、认证、防火墙、日志、用户账户管理、服务端口管理&lt;/li&gt;
&lt;li&gt;流量安全&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;流量安全：IPsec、SSL/TLS、HTTPS等&lt;/li&gt;
&lt;li&gt;SSL/TLS：传输层安全协议
&lt;ol&gt;
&lt;li&gt;建立在TCP之上的安全套接层，包括握手协议、压缩、加解密、计算校验&lt;/li&gt;
&lt;li&gt;传输流程：分段，压缩，增加MAC，加密，增加SSL记录（头部），得到SSL报文&lt;/li&gt;
&lt;li&gt;握手流程：交换基本信息、传输证书并确认、密钥交换获得会话密钥&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;HTTPS：应用层安全协议，即HTTP+SSL/TLS&lt;/li&gt;
&lt;li&gt;SSH：安全的远程登录和交互式会话，可以替代telnet，也可以建立传输隧道。&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;0x0b-无线网络安全&#34;&gt;0x0B 无线网络安全&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;无线网络组网：基站，Wi-Fi热点、无线AP&lt;/li&gt;
&lt;li&gt;无线网络特点：
&lt;ol&gt;
&lt;li&gt;开放性：容易接入，无硬件防护&lt;/li&gt;
&lt;li&gt;移动性：设备移动范围较大&lt;/li&gt;
&lt;li&gt;动态性：动态拓扑&lt;/li&gt;
&lt;li&gt;不稳定性：信道传输不稳定，易监听和干扰&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;无线网络安全威胁：
&lt;ol&gt;
&lt;li&gt;窃听、监听、截取：入侵者接入系统&lt;/li&gt;
&lt;li&gt;主动攻击：IP/MAC欺骗、DoS攻击、恶意代码、网络接管&lt;/li&gt;
&lt;li&gt;法律问题&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;移动设备安全问题：缺乏物理控制、不可信网络、未知来源程序等&lt;/li&gt;
&lt;li&gt;传输安全：数据加密、认证机制、防火墙、入侵检测等&lt;/li&gt;
&lt;li&gt;WLAN标准：802.11协议、Bluetooth协议等&lt;/li&gt;
&lt;li&gt;802.11协议框架
&lt;ol&gt;
&lt;li&gt;只涉及物理层和数据链路层的MAC子层，上层与其他保持一致。&lt;/li&gt;
&lt;li&gt;最小组成块BSS包括一个接入点AP和若干个移动站STA。&lt;/li&gt;
&lt;li&gt;通过固定设施将若干BSS组成一个整体ESS&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;WLAN安全：
&lt;ol&gt;
&lt;li&gt;考虑：组织未授权用户进入网络，防止数据窃听&lt;/li&gt;
&lt;li&gt;安全服务：AP的SSID匹配、有线等效保密WEP、物理地址MAC过滤&lt;/li&gt;
&lt;li&gt;WEP机制：提供身份验证、加密和密钥管理、完整性检查。认证太简单被破解、单向认证、重放攻击、密钥管理机制不完整&lt;/li&gt;
&lt;li&gt;WPA机制：WEP机制的进一步发展，每一个分组使用不同的分组密钥&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;安全无线网络802.11i标准
&lt;ol&gt;
&lt;li&gt;包括801.1x协议、EAP、RADIUS协议&lt;/li&gt;
&lt;li&gt;包括TKIP密钥协议和CCMP安全协议&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;0x0c-电子邮件安全&#34;&gt;0x0C 电子邮件安全&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;电子邮件发送流程：
&lt;ol&gt;
&lt;li&gt;用户与用户代理MUA交互，使用POP或者IMAP协议&lt;/li&gt;
&lt;li&gt;用户代理借助报文传输代理交互，使用SMTP协议&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;电子邮件安全问题：
&lt;ol&gt;
&lt;li&gt;协议安全问题，例如SMTP和MIME的安全问题&lt;/li&gt;
&lt;li&gt;内容安全：邮件窃听、邮件欺骗、利用邮件传播病毒&lt;/li&gt;
&lt;li&gt;垃圾邮件&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;电子邮件安全机制
&lt;ol&gt;
&lt;li&gt;端到端安全机制：PGP，S/MIME等&lt;/li&gt;
&lt;li&gt;传输层安全机制：SSL SMTP，SSL POP等&lt;/li&gt;
&lt;li&gt;应用层网关&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;PGP安全邮件标准
&lt;ol&gt;
&lt;li&gt;提供服务：认证（使用数字签名）、保密（使用对称加密）、压缩（zip压缩）、兼容性（base64编码）、分段重组&lt;/li&gt;
&lt;li&gt;密钥：会话密钥、公钥、私钥、口令&lt;/li&gt;
&lt;li&gt;定义了密钥ID，即公钥的低64位作为身份的标识符&lt;/li&gt;
&lt;li&gt;用户的私钥使用口令进行CAST-128/IDEA/3DES加密&lt;/li&gt;
&lt;li&gt;基于信任的关系模型，每个公钥被签名，用户对公钥的信任程度取决于对签名人的信任程度&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;SMTP：
&lt;ol&gt;
&lt;li&gt;只能传输ASCII字符&lt;/li&gt;
&lt;li&gt;邮件内容大小的限制&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;S/MIME：
&lt;ol&gt;
&lt;li&gt;MIME的安全性扩展&lt;/li&gt;
&lt;li&gt;结合PKI，使用X.509证书&lt;/li&gt;
&lt;li&gt;提供数据加密、数据签名、加密和签名的嵌套&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;DKIM电子邮件验证标准：
&lt;ol&gt;
&lt;li&gt;邮件的加密签名和域名/企业关联起来，防止电子邮件欺诈&lt;/li&gt;
&lt;li&gt;公钥位于DNS，私钥位于邮件服务器，在邮件中签名&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;0x0d-ip安全&#34;&gt;0x0D IP安全&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;当前的互联网使用TCP/IP协议栈，基本完全建立在IP之上，但是IP协议设计时并没有考虑很多安全问题，从本质上来说就是不安全的，修改IP报文非常简单。攻击包括：窃听、篡改、IP欺骗、重防攻击&lt;/li&gt;
&lt;li&gt;IPsec：
&lt;ol&gt;
&lt;li&gt;IP协议中集成的安全机制&lt;/li&gt;
&lt;li&gt;在IP层上创建安全的隧道层VPN&lt;/li&gt;
&lt;li&gt;包括三个协议：AH协议、ESP协议、IKE协议&lt;/li&gt;
&lt;li&gt;两种操作模式：传输模式和隧道模式&lt;/li&gt;
&lt;li&gt;两个数据库：安全策略数据库SPD，安全关联数据库SAD&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;IPsec的体系：DOI即解释域，使用IKE协商SA。&lt;/li&gt;
&lt;li&gt;工作模式：
&lt;ol&gt;
&lt;li&gt;传输模式：保护IP载荷，用于主机的端到端通信&lt;/li&gt;
&lt;li&gt;隧道模式：保护IP包，将旧包封装在新包中传输，用于网关模式&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;SA安全关联
&lt;ol&gt;
&lt;li&gt;IPsec的基础，两个实体协商建立的协定&lt;/li&gt;
&lt;li&gt;内容包括IPsec协议，工作模式、各种算法、密钥、窗口、计数器等信息&lt;/li&gt;
&lt;li&gt;单向的逻辑连接，因此常成对出现&lt;/li&gt;
&lt;li&gt;三个参数惟一标示：安全参数索引、目的IP地址、安全协议标识符&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;SAD：每个SA的参数值&lt;/li&gt;
&lt;li&gt;SPD：人机的安全接口&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;【后面还有很多内容 暂时跳过】&lt;/p&gt;
&lt;h2 id=&#34;0x0e-恶意软件&#34;&gt;0x0E 恶意软件&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;恶意破坏作用的代码和程序，非授权性和破坏性&lt;/li&gt;
&lt;li&gt;恶意代码：
&lt;ol&gt;
&lt;li&gt;病毒：自我复制和破坏&lt;/li&gt;
&lt;li&gt;蠕虫：自我复制和传播，消耗系统资源&lt;/li&gt;
&lt;li&gt;木马：窃取信息，远程控制，隐藏&lt;/li&gt;
&lt;li&gt;僵尸：远程控制发动攻击&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;病毒特征：传染性、隐蔽性、潜伏性、破坏性、寄生性&lt;/li&gt;
&lt;li&gt;病毒生命周期：睡眠、传播、触发、执行&lt;/li&gt;
&lt;li&gt;宏病毒：将宏代码写入模版文件，再写入所有的文件中&lt;/li&gt;
&lt;li&gt;蠕虫：利用漏洞自主传播消耗资源&lt;/li&gt;
&lt;li&gt;木马：隐蔽窃取信息，自启动，信息传播&lt;/li&gt;
&lt;li&gt;僵尸网络：CC服务器控制大量僵尸主机&lt;/li&gt;
&lt;li&gt;钓鱼和鱼叉攻击：伪造信息获得信任&lt;/li&gt;
&lt;li&gt;病毒检测：
&lt;ol&gt;
&lt;li&gt;特征码检测&lt;/li&gt;
&lt;li&gt;文件比较&lt;/li&gt;
&lt;li&gt;启发式扫描、文件散列&lt;/li&gt;
&lt;li&gt;行为检测、沙箱&lt;/li&gt;
&lt;li&gt;系统边界、流量检测&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;DDoS：消耗目标服务器计算资源/缓冲区，利用协议设计的漏洞&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;0x0f-入侵检测&#34;&gt;0x0F 入侵检测&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;三种手段：
&lt;ol&gt;
&lt;li&gt;统计分析：统计正常使用的属性&lt;/li&gt;
&lt;li&gt;模式匹配：匹配误用数据库&lt;/li&gt;
&lt;li&gt;完整性分析：检查文件和对象是否被更改&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;两种模型：
&lt;ol&gt;
&lt;li&gt;异常检测Anomaly Detection：基于用户行为，包括各类阈值&lt;/li&gt;
&lt;li&gt;误用检测Misuse Detection：基于规则和模式匹配，记录非正常操作的规则和特征&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;信息响应：
&lt;ol&gt;
&lt;li&gt;主动响应：根据检测到的入侵行为采取措施&lt;/li&gt;
&lt;li&gt;被动响应：记录和报告问题&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;主动响应：
&lt;ol&gt;
&lt;li&gt;搜集信息：使用蜜罐等技术&lt;/li&gt;
&lt;li&gt;入侵追踪：基于主机或者给予网络&lt;/li&gt;
&lt;li&gt;联动响应：通知防火墙和其他控制设备加以响应和处理&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;审计记录
&lt;ol&gt;
&lt;li&gt;对于用户的行为做记录&lt;/li&gt;
&lt;li&gt;包括：主体、客体、时间戳、异常条件、行为&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;IDS：
&lt;ol&gt;
&lt;li&gt;从系统关键点搜集信息，检测是否有攻击发生并发出警告&lt;/li&gt;
&lt;li&gt;基本不具有访问控制能力，只能用于侦察和预警&lt;/li&gt;
&lt;li&gt;是防火墙的补充&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;IDS分类
&lt;ol&gt;
&lt;li&gt;基于主机：从主机中获得数据&lt;/li&gt;
&lt;li&gt;基于网络：获得的信息为网络中的数据包&lt;/li&gt;
&lt;li&gt;混合型，完备的IDS是网络和主机混合的分布式系统&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;口令的脆弱性：字典攻击、穷举攻击、Hash表攻击等&lt;/li&gt;
&lt;li&gt;口令的防护：安全策略（时间、长度、复杂性）、限制尝试次数、加盐&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;0x10-防火墙&#34;&gt;0x10 防火墙&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;防火墙：内外网边界的过滤机制，保护本地系统不受网络安全威胁&lt;/li&gt;
&lt;li&gt;划分：
&lt;ol&gt;
&lt;li&gt;内部网络：安全可信赖&lt;/li&gt;
&lt;li&gt;外部网络：不安全，不可信赖&lt;/li&gt;
&lt;li&gt;DMZ非军事区：内网对外提供服务的主机位于非军事区&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;防火墙提供了服务控制、方向控制、用户控制和行为控制&lt;/li&gt;
&lt;li&gt;分类
&lt;ol&gt;
&lt;li&gt;包过滤：在网络层，根据数据包的报头信息加以处理&lt;/li&gt;
&lt;li&gt;网关/代理服务器：在应用层，处理用户的应用层请求&lt;/li&gt;
&lt;li&gt;状态监测：在传输层和应用层，检测传输层连接的跟踪&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;SOCKS防火墙安全会话转移协议：
&lt;ol&gt;
&lt;li&gt;一种传输层的网络代理协议&lt;/li&gt;
&lt;li&gt;利用防火墙简单的转发传输数据包&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;防火墙部署：
&lt;ol&gt;
&lt;li&gt;双宿主机Dual-homed，位于不同网络上的多个网卡&lt;/li&gt;
&lt;li&gt;屏蔽主机：增加路由器，数据先经过包过滤路由器和堡垒主机&lt;/li&gt;
&lt;li&gt;屏蔽子网：两个路由器，形成DMZ隔离带&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;</description>
    </item>
    
    <item>
      <title>使用Hexo搭建个人博客并部署到私人服务器</title>
      <link>https://yangleisx.github.io/post/blog-hexo/</link>
      <pubDate>Mon, 07 Oct 2019 11:23:29 +0800</pubDate>
      <guid>https://yangleisx.github.io/post/blog-hexo/</guid>
      <description>&lt;p&gt;使用hexo搭建个人博客的过程。希望能够帮助到有需要的人。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;2024/02/06 因为一些原因,已经迁移到了使用&lt;a href=&#34;https://www.gohugo.org&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Hugo&lt;/a&gt;和&lt;a href=&#34;https://hugoblox.com/templates/details/academic-cv/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Academic-cv&lt;/a&gt;结合Github Pages重构了本站点.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;本地环境&#34;&gt;本地环境&lt;/h2&gt;
&lt;h3 id=&#34;nodejs环境&#34;&gt;nodeJS环境&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;brew install node
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;初始化hexo&#34;&gt;初始化Hexo&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 安装依赖环境&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ npm install -g hexo-cli
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ npm install hexo-deployer-git --save
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 创建博客目录&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ mkdir Blog
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ &lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; Blog
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 博客初始化&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ hexo init
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ npm install
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;hexo使用&#34;&gt;Hexo使用&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 新建页面&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ hexo new page categories
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ hexo new page tags
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 新建并发布草稿&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ hexo new draft my_draft
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ hexo publish my_draft
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 新建文章&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ hexo new post my_post
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 开启本地服务器&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ hexo server &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;--debug&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 生成静态文件&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ hexo generate
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ hexo g
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 部署到服务器&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ hexo deploy
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ hexo d
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;密钥生成和提交&#34;&gt;密钥生成和提交&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 生成公钥和私钥&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ &lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; ~/.ssh
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ ssh-keygen
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 将公钥复制到服务器&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ ssh-copy-id username@address
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;服务器环境&#34;&gt;服务器环境&lt;/h2&gt;
&lt;h3 id=&#34;环境搭建&#34;&gt;环境搭建&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 软件安装&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ apt install nginx
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ apt install nodejs
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ apt install git
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 新建git用户&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 并添加到 /etc/sudoers&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ adduser git
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ vim /etc/passwd
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 修改git用户的默认shell为/ysr/bin/git-shell&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 禁止git用户用ssh登陆&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;仓库设置&#34;&gt;仓库设置&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 来到仓库位置&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ &lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; /home/git
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 创建空仓库&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ git init --bare Blog.git
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 创建临时文件夹&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ mkdir tmp/Bog
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 设置git钩子&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ vim Blog.git/hooks/post-receive
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 设置权限&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ chmod +x Blog.git/hooks/post-receive
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ chown -R git:git Blog.git
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ chmod &lt;span class=&#34;m&#34;&gt;777&lt;/span&gt; -R Blog.git
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;使用的hooks脚本&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#!/bin/bash -l
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;GIT_REPO&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/home/git/Blog.git
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;TMP_GIT_CLONE&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/home/git/tmp/Blog
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;PUBLIC_WWW&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/var/www/blog
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;rm -rf &lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;TMP_GIT_CLONE&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;git clone &lt;span class=&#34;nv&#34;&gt;$GIT_REPO&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$TMP_GIT_CLONE&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;rm -rf &lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;PUBLIC_WWW&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cp -rf &lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;TMP_GIT_CLONE&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;PUBLIC_WWW&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;另一个可选的脚本&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#!/bin/sh
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;git --work-tree&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/var/www/blog --git-dir&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/home/git/Blog.git checkout -f
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;web服务器设置&#34;&gt;web服务器设置&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 创建静态文件目录&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ rm -rf /var/www/html
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ mkdir /var/www/blog
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ chmod &lt;span class=&#34;m&#34;&gt;777&lt;/span&gt; /var/www
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 设置nginx&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ vim /etc/nginx/site-available/default
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ mkdir /home/git/nginxlog
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ touch /home/git/nginxlog/blog_access.log
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ touch /home/git/nginxlog/blog_error.log
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 重启web服务器&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ service nginx restart
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;nignx配置&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-txt&#34; data-lang=&#34;txt&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;server {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    listen 80 default_server;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    listen [::]:80 default_server;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    server_name _;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    access_log  /home/git/nginxlog/blog_access.log;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    error_log  /home/git/nginxlog/blog_error.log;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    root /var/www/blog;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    index index.html
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    location / {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        try_files $uri $uri/ =404;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;虚拟主机配置&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ &lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; /etc/nginx/sites-available
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 修改虚拟主机配置&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 单物理主机多虚拟主机&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ vim new_server
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ mkdir /var/www/new_server
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ touch /home/git/nginxlog/new_server_access.log
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ touch /home/git/nginxlog/new_server_error.log
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 链接激活&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ ln /etc/nginx/sites-available /etc/nginx/sites-enable
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 检查web服务器&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ service nginx status
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ service nginx restart
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;git自动部署&#34;&gt;git自动部署&lt;/h2&gt;
&lt;h3 id=&#34;修改部署配置&#34;&gt;修改部署配置&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nt&#34;&gt;deploy&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;git&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;message&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;post-receive&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;repo&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;git@address:/home/git/blog.git&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;branch&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;master&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;接下来可以正常部署&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ hexo deploy
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 或者&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ hexo d
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;使用github-pages&#34;&gt;使用github pages&lt;/h3&gt;
&lt;p&gt;github提供了免费的github pages&lt;/p&gt;
&lt;p&gt;可以创建一个仓库，仓库名为username.github.io&lt;/p&gt;
&lt;p&gt;然后将静态文件上传即可使用&lt;/p&gt;
&lt;p&gt;在deploy设置中更改对应的repo地址即可&lt;/p&gt;</description>
    </item>
    
  </channel>
</rss>
